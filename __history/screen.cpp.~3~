//---------------------------------------------------------------------------

#include <vcl.h>
#pragma hdrstop

#include "screen.h"
#include "client.h"
#include "fstream"

using std::getline, std::fstream, std::string, std::stoi;
//---------------------------------------------------------------------------
#pragma package(smart_init)
#pragma resource "*.dfm"
TForm1 *Form1;

// Create client instance variable
TCPClient client;
fstream credentials_file;

//---------------------------------------------------------------------------
__fastcall TForm1::TForm1(TComponent* Owner)
	: TForm(Owner)
{
    string ip, port;
    // Get vars from file
    credentials_file.open("credentials.txt");
    getline(credentials_file, ip);
    getline(credentials_file, port);

    // Connect to server
    client.Connect(ip.c_str(), stoi(port));
}
//---------------------------------------------------------------------------
